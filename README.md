# Build script

Проект разделён на модули. Скрипт `src/build.js` объединяет модули в один userscript `youtube.user.js`.

Как запустить (PowerShell на Windows):

```powershell
node .\src\build.js
```

Опции:
- `--watch` или `-w` — следить за изменениями в файлах и автоматически пересобирать (debounce ~200ms).

Порядок файлов:
- Скрипт ищет файл манифеста порядка в корне: `build.order.json` (массив имён) или `build.order.txt` (по строкам). Если найден — используется указанный порядок; файлы, не перечисленные в манифесте, добавляются после в алфавитном порядке.

Что делает скрипт:
- Берёт metadata block из `userscript.js` (или `youtube.user.js` если `userscript.js` отсутствует).
- Объединяет все `.js` файлы в корне (исключая `youtube.user.js`, `userscript.js`, `build.js` и `src/build.js`).
- Пишет результат в `youtube.user.js`.
- Выполняет базовую проверку синтаксиса через `vm.Script`.
- Если в проекте установлен ESLint (`node_modules/.bin/eslint`), скрипт запустит его для итогового файла.

Если хотите, могу добавить поддержку вложенных директорий или автоматическую установку ESLint и конфигурации.